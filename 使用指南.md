# GUI Agent 使用指南

## 🎉 两个版本可选

我们提供了两个版本的GUI Agent，你可以根据自己的需求选择：

### 1. Web界面版本 ⭐ **推荐**

**优点：**
- ✅ 无需tkinter，兼容性最好
- ✅ 现代化美观界面
- ✅ 可以打包成exe
- ✅ 跨平台支持
- ✅ 体积更小

**使用方法：**
```bash
# 安装依赖
pip install flask flask-socketio python-socketio

# 运行应用
python web_app.py

# 浏览器会自动打开 http://127.0.0.1:5000
```

**打包成exe：**
```bash
pip install pyinstaller
pyinstaller build_web_exe.spec

# 运行
dist\GUI-Agent-Web.exe
```

📖 **详细文档**: 查看 `README_WEB.md`

---

### 2. Tkinter桌面版本

**优点：**
- ✅ 传统桌面应用体验
- ✅ 无需浏览器
- ✅ 可以打包成exe

**缺点：**
- ⚠️ 需要Python包含tkinter组件
- ⚠️ 你的Python环境缺少tkinter

**使用方法：**
```bash
# 首先需要解决tkinter问题
# 方案1: 重新安装Python，勾选"tcl/tk and IDLE"
# 方案2: 使用Anaconda (conda install tk)

# 然后运行
python gui_app.py
```

**打包成exe：**
```bash
pip install pyinstaller
pyinstaller build_exe.spec

# 运行
dist\GUI-Agent.exe
```

📖 **详细文档**: 查看 `README_GUI.md`

---

## 🚀 快速开始（推荐Web版本）

### 第一步：安装依赖

```bash
pip install flask flask-socketio python-socketio
```

### 第二步：运行应用

```bash
python web_app.py
```

### 第三步：配置API

1. 浏览器会自动打开 `http://127.0.0.1:5000`
2. 首次运行会显示配置界面
3. 填写：
   - **API Key**: 你的火山引擎API密钥
   - **Base URL**: `https://ark.cn-beijing.volces.com/api/v3`
   - **Model Name**: `ep-20260120161243-g7vwl` (默认)
4. 点击"保存配置"

### 第四步：执行任务

1. 在任务输入框输入自然语言描述
2. 点击"▶ 开始执行"
3. 查看实时日志和截图
4. 等待任务完成

---

## 📝 示例任务

```
打开浏览器搜索GUI，找到Wikipedia的介绍页面进行查看
```

```
打开记事本，输入"Hello World"，然后保存到桌面
```

```
打开计算器，计算 123 + 456
```

```
打开edge浏览器查找bilibili，搜索小米汽车，找到排序第一的视频并打开播放
```

---

## 🎯 功能特点

### Web版本界面预览

- **现代化设计**: 渐变色背景，圆角卡片
- **实时更新**: WebSocket推送日志和状态
- **响应式布局**: 支持不同屏幕尺寸
- **历史记录**: 自动保存最近50个任务
- **截图预览**: 实时显示Agent看到的界面
- **状态指示**: 清晰的颜色编码状态

### 核心功能

1. **智能理解**: AI理解自然语言指令
2. **视觉识别**: 通过截图理解界面内容
3. **自动操作**: 自动执行鼠标键盘操作
4. **实时反馈**: 显示执行过程和结果
5. **错误处理**: 智能处理异常情况
6. **历史管理**: 保存和重用任务

---

## 📦 打包成独立exe

### Web版本打包（推荐）

```bash
# 1. 安装PyInstaller
pip install pyinstaller

# 2. 打包
pyinstaller build_web_exe.spec

# 3. 生成的文件
dist\GUI-Agent-Web.exe  # 约30-40MB

# 4. 使用
# 双击运行exe，然后在浏览器访问 http://127.0.0.1:5000
```

### Tkinter版本打包

```bash
# 需要先解决tkinter依赖问题
pyinstaller build_exe.spec

# 生成的文件
dist\GUI-Agent.exe  # 约40-50MB
```

---

## 🔧 配置文件

配置保存在 `config.json`:

```json
{
  "api_key": "your-api-key-here",
  "base_url": "https://ark.cn-beijing.volces.com/api/v3",
  "model_name": "ep-20260120161243-g7vwl",
  "history": [
    "打开浏览器搜索GUI...",
    "打开记事本..."
  ]
}
```

---

## 🐛 常见问题

### Q: 为什么推荐Web版本？

A: Web版本无需tkinter依赖，界面更现代，兼容性更好，打包后体积更小。

### Q: Web版本安全吗？

A: 是的，Web服务只监听本地地址 `127.0.0.1`，不对外网开放，仅本机可访问。

### Q: 可以同时运行两个版本吗？

A: 不建议，它们会使用相同的配置文件和截图目录。

### Q: 打包后的exe可以在其他电脑运行吗？

A: 可以！打包后的exe包含所有依赖，可以在没有Python的Windows电脑上运行。

### Q: API Key从哪里获取？

A: 访问火山引擎控制台，进入"模型推理"服务，创建推理接入点获取。

---

## 📊 版本对比

| 特性 | Web版本 | Tkinter版本 |
|------|---------|-------------|
| 依赖要求 | Flask (易安装) | Tkinter (可能缺失) |
| 界面风格 | 现代化Web界面 | 传统桌面界面 |
| 跨平台 | ✅ 完美 | ⚠️ 需要tk/tcl |
| 打包体积 | ~30-40MB | ~40-50MB |
| 移动端 | ✅ 支持 | ❌ 不支持 |
| 实时更新 | WebSocket | 线程回调 |
| 推荐度 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ |

---

## 📚 相关文档

- `README_WEB.md` - Web版本详细文档
- `README_GUI.md` - Tkinter版本详细文档
- `requirements.txt` - Python依赖列表
- `build_web_exe.spec` - Web版本打包配置
- `build_exe.spec` - Tkinter版本打包配置

---

## 💡 建议

1. **首选Web版本**: 除非你特别需要传统桌面应用
2. **开发时直接运行**: `python web_app.py`
3. **分发时打包exe**: 使用PyInstaller打包
4. **保护API Key**: 不要分享你的配置文件

---

**开始使用吧！** 🚀

```bash
python web_app.py
```
